<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>BET300 ¬∑ Registro</title>
<meta name="theme-color" content="#0b1020"/>
<style>
  :root{
    --bg:#0b1020; 
    --panel:#111735; 
    --border:#1f2a4d;
    --text:#e9ecff; 
    --muted:#aab0d6;
    --brand:#f0c86a; 
    --brand2:#f7d887;
    --btn-bg:#1a203f;
    --btn-hover:#242b55;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{
    height:100%;
    font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto;
    background:var(--bg);
    color:var(--text);
  }
  main{
    display:flex;
    flex-direction:column;
    min-height:100vh;
    justify-content:center;
    align-items:center;
    padding:20px;
  }
  .card{
    background:#0f1430;
    border:1px solid var(--border);
    border-radius:18px;
    box-shadow:0 16px 40px rgba(0,0,0,.35);
    padding:24px;
    width:100%;
    max-width:380px;
    text-align:center;
  }
  .logoText{
    font-weight:900;
    font-size:40px;
    letter-spacing:1px;
    margin-bottom:6px;
  }
  .logoText span{
    background:linear-gradient(90deg,var(--brand),var(--brand2));
    -webkit-background-clip:text;
    color:transparent;
  }
  h1{font-size:20px;margin-top:4px;}
  .note{
    color:var(--muted);
    font-size:13px;
    margin:8px 0 18px;
  }
  .pill{
    display:inline-block;
    background:rgba(255,255,255,.08);
    padding:4px 10px;
    border-radius:999px;
    font-size:12px;
    margin-bottom:8px;
  }
  label{
    display:block;
    text-align:left;
    font-size:13px;
    color:var(--muted);
    margin-bottom:6px;
  }
  .input{
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid var(--border);
    background:var(--panel);
    color:var(--text);
  }
  .btn{
    width:100%;
    padding:13px 16px;
    margin-top:14px;
    border:none;
    border-radius:14px;
    font-weight:700;
    cursor:pointer;
    color:#fff;
    background:var(--btn-bg);
    box-shadow:0 0 10px rgba(0,0,0,.4);
    transition:.2s;
  }
  .btn:hover{background:var(--btn-hover);}
  .btn.secondary{
    margin-top:10px;
    background:#20264a;
  }
  .footer{
    margin-top:auto;
    text-align:center;
    font-size:12px;
    color:var(--muted);
    padding:10px 0;
  }
</style>
</head>
<body>
<main>
  <div class="card">
    <div class="logoText">BET <span>300</span></div>
    <h1>Registro</h1>
    <div class="pill">üîí Autogesti√≥n disponible</div>
    <p class="note">Soporte dentro de la plataforma ‚Ä¢ <b style="color:#bfefff">+30% 1¬™ carga</b></p>

    <form id="regForm" autocomplete="off">
      <label for="name">Nombre o apodo</label>
      <input id="name" class="input" type="text" placeholder="Ej: Nico / Lau / ElTurco" required minlength="2" maxlength="40">

      <button type="submit" class="btn">üéÅ Registrarse</button>

      <p class="note" style="margin-top:12px">
        El operador asignar√° tu contrase√±a (pod√©s editarla luego) y te enviar√° el link de acceso
      </p>

      <!-- NUEVO: Bot√≥n de ingreso debajo del texto -->
      <a href="https://bet300.site/html/principal.html" class="btn secondary">
        üéÆ Ingresar a la plataforma
      </a>
    </form>
  </div>
  <div class="footer">BET300 ¬© ‚Äî Todos los derechos reservados.</div>
</main>

<script>
const PC_NUMBERS={1:"1171561685",2:"1171561022",3:"1171331067",4:"1135854862"};
function buildAR(n){n=(n||"").replace(/\D/g,"");return"54911"+n.slice(2);}
const p=new URLSearchParams(location.search);
const pc=["1","2","3","4"].includes(p.get("pc"))?p.get("pc"):"1";
const wp=buildAR(PC_NUMBERS[pc]);

async function hash(t){
  const e=new TextEncoder().encode(t);
  const b=await crypto.subtle.digest("SHA-256",e);
  return Array.from(new Uint8Array(b)).map(x=>x.toString(16).padStart(2,"0")).join("");
}
function ts(){
  const d=new Date(),f=x=>String(x).padStart(2,"0");
  return `${f(d.getDate())}/${f(d.getMonth()+1)}/${d.getFullYear()} ${f(d.getHours())}:${f(d.getMinutes())}`;
}
function openWA(phone,msg){
  location.href=`https://api.whatsapp.com/send?phone=${encodeURIComponent(phone)}&text=${encodeURIComponent(msg)}`;
}

const f=document.getElementById("regForm");
f.addEventListener("submit",async e=>{
  e.preventDefault();
  const n=document.getElementById("name").value.trim();
  if(n.length<2){alert("Ingres√° un nombre o apodo v√°lido.");return;}
  const h=(await hash(`${n}|${pc}|${ts()}`)).slice(0,10).toUpperCase();
  const msg=`Hola üëã, quiero crear usuario en la plataforma.\n‚Ä¢ PC: ${pc}\n‚Ä¢ Nombre/Apodo: ${n}\n‚Ä¢ Hash: ${h}\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\nPor favor generen el acceso y compartan el link.`;
  const btn=f.querySelector(".btn");
  btn.disabled=true;btn.textContent="Abriendo WhatsApp‚Ä¶";
  openWA(wp,msg);
  setTimeout(()=>{btn.disabled=false;btn.textContent="üéÅ Registrarse";},3500);
});
</script>
</body>
</html>
